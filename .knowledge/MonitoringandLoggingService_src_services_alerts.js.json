{"is_source_file": true, "format": "JavaScript", "description": "This file implements service functions for managing alerts and alert rules, including listing, creating, and evaluating rules in a monitoring system.", "external_files": ["./store", "./audit"], "external_methods": ["alerts.all()", "alerts.push()", "alertRules.values()", "alertRules.set()", "writeAudit()"], "published": ["listAlerts", "createAlert", "listAlertRules", "upsertAlertRule", "evaluateRules"], "classes": [], "methods": [{"name": "listAlerts({ status, page = 1, pageSize = 20 })", "description": "Returns a filtered list of alerts with support for pagination.", "scope": "", "scopeKind": ""}, {"name": "createAlert(alert, principal)", "description": "Adds a new alert and records an audit entry.", "scope": "", "scopeKind": ""}, {"name": "listAlertRules()", "description": "Returns all configured alert rules.", "scope": "", "scopeKind": ""}, {"name": "upsertAlertRule(rule, principal)", "description": "Creates or updates an alert rule and records an audit.", "scope": "", "scopeKind": ""}, {"name": "evaluateRules(recentMetrics, recentLogs)", "description": "Evaluates alert rules against recent metrics and logs, firing alerts for matched rules.", "scope": "", "scopeKind": ""}], "calls": ["alerts.all()", "alerts.push()", "alertRules.values()", "alertRules.set()", "writeAudit()"], "search-terms": ["alert management", "rule evaluation", "logging alerts", "metrics rule", "alert rules"], "state": 2, "file_id": 18, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "alert", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^      const alert = {$/", "language": "JavaScript", "kind": "class", "scope": "evaluateRules", "scopeKind": "class"}, {"_type": "tag", "name": "createAlert", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^function createAlert(alert, principal) {$/", "language": "JavaScript", "kind": "function", "signature": "(alert, principal)"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^        createdAt: nowIso,$/", "language": "JavaScript", "kind": "property", "scope": "evaluateRules.alert", "scopeKind": "class"}, {"_type": "tag", "name": "evaluateRules", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^function evaluateRules(recentMetrics, recentLogs) {$/", "language": "JavaScript", "kind": "function", "signature": "(recentMetrics, recentLogs)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^        id: `${rule.id}:${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "evaluateRules.alert", "scopeKind": "class"}, {"_type": "tag", "name": "listAlertRules", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^function listAlertRules() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listAlerts", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^  listAlerts,$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "listAlerts", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^function listAlerts({ status, page = 1, pageSize = 20 }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ status, page = 1, pageSize = 20 })"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^        message: `Rule matched: ${rule.name}`,$/", "language": "JavaScript", "kind": "property", "scope": "evaluateRules.alert", "scopeKind": "class"}, {"_type": "tag", "name": "severity", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^        severity: rule.severity,$/", "language": "JavaScript", "kind": "property", "scope": "evaluateRules.alert", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^        status: 'ACTIVE',$/", "language": "JavaScript", "kind": "property", "scope": "evaluateRules.alert", "scopeKind": "class"}, {"_type": "tag", "name": "upsertAlertRule", "path": "/home/kavia/workspace/code-generation/legacy-cycle-store-system-migration--cycle-store-4890-4601/MonitoringandLoggingService/src/services/alerts.js", "pattern": "/^function upsertAlertRule(rule, principal) {$/", "language": "JavaScript", "kind": "function", "signature": "(rule, principal)"}], "hash": "90ec123257e8e12074be107b71e08ce5", "format-version": 4, "code-base-name": "MonitoringandLoggingService", "filename": "MonitoringandLoggingService/src/services/alerts.js", "fields": [{"name": "createdAt: nowIso,", "scope": "evaluateRules.alert", "scopeKind": "class", "description": "unavailable"}, {"name": "id: `${rule.id}:${Date.now()}`,", "scope": "evaluateRules.alert", "scopeKind": "class", "description": "unavailable"}, {"name": "listAlerts,", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}, {"name": "message: `Rule matched: ${rule.name}`,", "scope": "evaluateRules.alert", "scopeKind": "class", "description": "unavailable"}, {"name": "severity: rule.severity,", "scope": "evaluateRules.alert", "scopeKind": "class", "description": "unavailable"}, {"name": "status: 'ACTIVE',", "scope": "evaluateRules.alert", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"38": ""}]}